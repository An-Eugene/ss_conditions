<html>
  <head>
    <title>ss_conditions for phone</title>
    <!--<script src="/ss_conditions/ss_conditions.pac" />-->
    <style>
      html, body {
        margin:0;
        padding:0;
      }
      body {
        display:flex;
        flex-direction:column;
        align-items:center;
        font-family: "Courier New";
        font-weight:bold;
        background-color: #1a1919;
      }
      #mobile-lines {
        font-size:2rem;
        background-color: #363434;
        color: #efe7d0;
        padding:2rem;
        border-radius:2rem;
        margin-top:1rem;
        width:auto;
    </style>
  </head>
  <body>
    <h1>Tap on lines to copy</h1>
    <div id="mobile-lines" onclick="event.preventDefault(); navigator.clipboard.writeText(document.getElementById('mobile-lines').textContent).then(()=>{alert('Done!');});"></div>
    <script>
      window.addEventListener('DOMContentLoaded', function() {
        let scriptElement = document.createElement('script');
        scriptElement.src = "/ss_conditions/ss_conditions.pac";
        
        setTimeout(() => {
          // console.log(__BLOCKEDSITES__);
          let lines_for_mobile = ""
          for (let site of __BLOCKEDSITES__) {
            lines_for_mobile += (site.startsWith("*") ? "(?:^|\\.)" : "^") + site.replace(/\./g, "\\.").replace(/^\*\\\./, "") + "$" + "\n<br>";
          }
          lines_for_mobile = lines_for_mobile.slice(0, -1);
          let output = document.getElementById("mobile-lines");
          output.innerHTML = lines_for_mobile;
        }, 1000);
        
        document.body.appendChild(scriptElement);
      });
    </script>
  </body>
</html>
